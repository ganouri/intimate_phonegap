<div class="container page rooms" >
    <i class="icon-off" ng-click="logout()" ng-hide="roomSelected && user.authenticated"></i>
    <form class="form-search" ng-show="! user.authenticated">
      <div class="form-content">
        <p>Enter your Account<br> Code to access your Kokoons</p>
        <input type="password" class="input-large search-query" placeholder="Password" id="user-password" ng-model="password">
        <button type="submit" class="btn btn-danger" id="user-auth" ng-click="login()" ng-show="password.length>0">Login</button>
      </div>
      <span ng-show="! user.authenticated || user.rooms.length == 0">
        <p class="interact">Start interacting now<br> with new or existing Kokoon contacts</p>
        <i class="icon-arrow-down"></i>
      </span>
    </form>
    <ul id="room-list" ng-show="! roomSelected && user.authenticated" ng-swipe-right="testingNgMobile('ng-swipe-right')" ng-swipe-left="testingNgMobile('ng-swipe-left')" ng-swipe="refresh('rooms')" ><!-- ng-touch="testingNgMobile('ng-touch')" ng-hold="testingNgMobile('ng-hold')" ng-drag="testingNgMobile('ng-drag')" -->
      <!--li ng-repeat="room in user.rooms" ng-click="navigate('secure/room/'+room.id)"-->
      <li ng-repeat="room in user.rooms" ng-touch="selectRoom(room._id)">
        <p ng-repeat="member in room.members | isContact:user.contacts">&lt; {{member | contactNickname:this}} roomate &gt;</p>
      </li>
    </ul>
    <div ng-show="roomSelected && user.authenticated">
      <div class="room-label">
        <i class="icon-th-large" ng-click="deselectRoom()"></i>
          Room shared with <span ng-repeat="member in room.members | isContact:user.contacts">{{member | contactNickname:this}}</span>
      </div>
      <div id="interactions" ng-swipe="refresh('interactions')" >
          <div class="interaction-done" ng-repeat="interaction in room.corr" ng-class="{right: isContact(interaction.user)}" ng-click="selectInteraction(interaction.resourceId)" id="{{interaction.resourceId}}">
            <span ng-show="user.resources[interaction.resourceId].media.type=='image'">
              <img src="" id="{{user.resources[interaction.resourceId].media.content}}" width="50px" height="50px" style="background-color:black;"/>
            </span>
            <span ng-show="user.resources[interaction.resourceId].media.type=='text'">
              {{user.resources[interaction.resourceId].media.content}}
            </span>
          </div>
      </div>
      <div id="quicktext">
        <textarea row="2" id="inputQuickMessage" placeholder="quick text" ng-model="message"></textarea>
        <button type="submit" class="btn btn-danger" ng-click="postMessage()" id="postQuickMessage" >Send</button>
      </div>
  </div>
    <button type="submit" class="btn btn-danger" id="interact" ng-click="snap()" >+</button><!-- bypass interact -->
</div>
